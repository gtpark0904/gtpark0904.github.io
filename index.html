<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Image</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: #111;
    }
    img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(255,255,255,0.5);
      opacity: 1;
      transition: opacity 0.8s ease-in-out; /* smooth fade */
    }
  </style>
</head>
<body>
  <img id="card" 
       src="https://raw.githubusercontent.com/gtpark0904/gtpark0904.github.io/main/default.png"
       alt="My Image">

  <script>
    const card = document.getElementById("card");
    const fallback = "https://raw.githubusercontent.com/gtpark0904/gtpark0904.github.io/main/default.png";
    const current = "https://github.com/gtpark0904/gtpark0904.github.io/releases/download/current_image/current.png?raw=true";

    function updateImage() {
      const newImg = new Image();
      newImg.src = current + "&t=" + new Date().getTime(); // cache-busting

      newImg.onload = () => {
        // fade out old image
        card.style.opacity = 0;

        setTimeout(() => {
          card.src = newImg.src;
          card.style.opacity = 1; // fade in new image
        }, 800); // match transition duration
      };

      newImg.onerror = () => {
        // if image missing, fallback
        if (card.src !== fallback) {
          card.style.opacity = 0;
          setTimeout(() => {
            card.src = fallback;
            card.style.opacity = 1;
          }, 800);
        }
      };
    }

    // refresh every 10 seconds
    setInterval(updateImage, 10000);
    updateImage();
  </script>
</body>
</html>
